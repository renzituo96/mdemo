# Netlify 部署状态查看指南

本指南将详细说明如何查看你的项目在Netlify上的部署状态，确保你能够及时了解部署进度并验证部署结果。

## 1. 通过Netlify控制台查看

### 1.1 部署详情页面

1. **自动跳转**：点击"Deploy site"后，Netlify会自动跳转到部署详情页面
2. **手动访问**：
   - 登录 [Netlify官网](https://app.netlify.com/)
   - 从站点列表中选择你的项目
   - 点击顶部导航栏中的"Deploys"标签页
   - 选择最新的部署记录进入详情页

### 1.2 部署状态指示器

在部署详情页面，你可以通过以下图标判断部署状态：

- 🟢 **绿色对勾**：部署成功，网站已上线
- 🔴 **红色叉号**：部署失败，需要检查错误
- 🟡 **黄色旋转图标**：部署正在进行中

### 1.3 构建日志查看

1. 在部署详情页面，你可以看到完整的构建和部署日志
2. 日志会实时更新，显示每个步骤的执行情况
3. 如果部署失败，日志中会用红色标识错误信息
4. 常见的失败原因：
   - 依赖安装失败
   - 构建脚本错误
   - 环境变量缺失
   - 资源超限

### 1.4 访问部署的网站

1. 部署成功后，页面顶部会显示网站URL（格式：`https://your-site-name.netlify.app`）
2. 直接点击URL可以访问部署好的网站
3. 在"Site overview"页面也可以找到网站的实时URL

## 2. 通过Netlify CLI查看

### 2.1 安装和登录

```bash
# 安装Netlify CLI
npm install -g netlify-cli

# 登录Netlify
netlify login
```

### 2.2 查看部署历史

```bash
# 查看当前项目的所有部署历史
netlify deploy:list

# 输出示例：
# ┌────────────┬───────────────────────────────────────────┬─────────┬───────────────────┬─────────────┐
# │ ID         │ URL                                       │ Branch  │ Deploy Time       │ State       │
# ├────────────┼───────────────────────────────────────────┼─────────┼───────────────────┼─────────────┤
# │ d1234567   │ https://d1234567--yoursite.netlify.app     │ main    │ Today at 10:30 AM │ published   │
# └────────────┴───────────────────────────────────────────┴─────────┴───────────────────┴─────────────┘
```

### 2.3 查看特定部署详情

```bash
# 查看指定部署ID的详细信息
netlify deploy:info --id=d1234567

# 或者查看最新部署
netlify deploy:info
```

## 3. 通知系统

### 3.1 邮件通知

1. Netlify默认会向注册邮箱发送部署状态通知
2. 你可以在个人设置中管理邮件通知偏好

### 3.2 第三方集成

1. 在项目的"Notifications"设置中，你可以配置：
   - Slack通知
   - Microsoft Teams通知
   - GitHub/GitLab/Bitbucket状态更新
   - Webhook通知

## 4. 持续部署监控

如果配置了持续部署（连接了代码仓库）：

1. 每次推送到指定分支时，Netlify会自动触发新部署
2. 在"Deploys"标签页可以查看完整的部署历史
3. 每个部署记录显示：
   - 部署时间
   - 触发方式（手动/自动）
   - 部署状态
   - 提交信息
   - 部署者

## 5. 常见问题排查

### 5.1 部署卡在"构建中"状态

- 检查构建命令是否正确
- 查看构建日志中的具体进度
- 可能是依赖安装或构建过程耗时较长，耐心等待

### 5.2 部署失败

1. 仔细查看构建日志中的错误信息
2. 常见错误及解决方法：
   - **依赖错误**：确保`package.json`中的依赖版本兼容
   - **构建脚本错误**：检查`npm run build`命令是否正确执行
   - **环境变量缺失**：确保在Netlify中设置了所有必需的环境变量
   - **资源限制**：大型项目可能需要增加构建超时时间

### 5.3 部署成功但网站无法访问

1. 检查网站URL是否正确
2. 查看控制台是否有前端错误
3. 确认API连接和环境变量是否正确配置
4. 检查DNS设置是否生效（如果使用自定义域名）

## 6. 部署状态API

对于需要程序化监控部署状态的场景，可以使用Netlify的API：

```bash
# 使用curl查询部署状态
curl -H "Authorization: Bearer YOUR_PERSONAL_ACCESS_TOKEN" \
  https://api.netlify.com/api/v1/sites/your-site-id/deploys
```

更多API详情请参考 [Netlify API文档](https://docs.netlify.com/api/get-started/)

---

通过以上方法，你可以全面监控和管理Netlify上的部署状态，确保你的应用顺利上线！